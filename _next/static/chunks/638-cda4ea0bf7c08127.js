(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[638],{253:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var r=n(5893),a=(n(7294),n(2095)),s=n.n(a),o=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:"".concat(s().container," ").concat(n||""),children:t})}},6572:function(e,t,n){"use strict";n.d(t,{LX:function(){return a},UZ:function(){return s},x8:function(){return o},ol:function(){return i}});var r=n(5893),a=(n(7294),function(){return(0,r.jsx)("svg",{viewBox:"0 0 123 95",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.04 27.72H21.47L44.56 1.85998C46.61 -0.440023 50.17 -0.640023 52.46 1.40998C54.76 3.45998 54.96 7.01998 52.91 9.31998L36.49 27.72H86.81L70.39 9.31998C68.34 7.01998 68.54 3.45998 70.84 1.40998C73.14 -0.640023 76.69 -0.440023 78.75 1.85998L101.83 27.72H110.85H110.97H119.44C121.34 27.72 122.89 29.27 122.89 31.17V40.9C122.89 42.8 121.34 44.35 119.44 44.35H112.11L108.34 91.88C108.24 93.19 107.26 94.27 105.95 94.27H16.94C15.63 94.27 14.65 93.19 14.55 91.88L10.78 44.35H3.45C1.55 44.35 0 42.8 0 40.9V31.17C0 29.27 1.55 27.72 3.45 27.72H11.92H12.04ZM77.67 46.22H88.58V77.75H77.67V46.22ZM56.45 46.22H67.35V77.75H56.45V46.22V46.22ZM35.23 46.22H46.14V77.75H35.23V46.22V46.22Z"})})}),s=function(){return(0,r.jsx)("svg",{viewBox:"0 0 120 87",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M16.3592 43.5061H0L21.8204 65.2592L43.6408 43.5061H27.2694C27.2694 25.5128 41.9388 10.8765 60 10.8765C65.5102 10.8765 70.751 12.2315 75.2694 14.6851L83.2286 6.75053C76.5306 2.50245 68.5592 0 60 0C35.8898 0 16.3592 19.4703 16.3592 43.5061ZM92.7306 43.5061C92.7306 61.4994 78.0612 76.1357 60 76.1357C54.4898 76.1357 49.249 74.7807 44.7306 72.3271L36.7714 80.2617C43.4816 84.4976 51.4408 87 60.0122 87C84.1224 87 103.653 67.5297 103.653 43.4939H120L98.1796 21.7531L76.3592 43.5061H92.7306Z"})})},o=function(){return(0,r.jsx)("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M15.96 1.499l-1.459-1.459-6.501 6.501-6.501-6.501-1.459 1.459 6.501 6.501-6.501 6.501 1.459 1.459 6.501-6.501 6.501 6.501 1.459-1.459-6.501-6.501z"})})},i=function(){return(0,r.jsx)("svg",{viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M29.6133 27.8396L22.1824 20.4026C23.9406 18.2463 25.0004 15.5018 25.0004 12.5062C25.0004 5.61438 19.395 0.00292969 12.4971 0.00292969C5.5992 0.00292969 0 5.61438 0 12.5062C0 19.398 5.60532 25.0033 12.5032 25.0033C15.4927 25.0033 18.2433 23.9435 20.3997 22.1853L27.8306 29.6162C28.339 30.1246 29.1109 30.1246 29.6194 29.6162C30.1278 29.1077 30.1278 28.3481 29.6133 27.8396ZM2.4933 12.5062C2.4933 6.98661 6.97756 2.50235 12.4971 2.50235C18.0167 2.50235 22.5071 6.99274 22.5071 12.5123C22.5071 18.0319 18.0167 22.5222 12.4971 22.5222C6.97756 22.5222 2.4933 18.0257 2.4933 12.5062Z"})})}},3157:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=n(5893),a=(n(7294),n(6986)),s=n.n(a),o=function(e){var t=e.ingredient;return(0,r.jsxs)("li",{className:s().ingredient,children:[(0,r.jsx)("div",{children:t.name}),(0,r.jsxs)("div",{children:[t.quantity,"g"!==t.quantityType?" ":"",t.quantityType]})]},"tag-".concat(t.name))}},1638:function(e,t,n){"use strict";n.d(t,{A:function(){return j}});var r=n(5893),a=n(7294),s=n(9008),o=n(1664),i=n(253),l=n(6572),c=n(5897),u=n.n(c),_=function(e){var t=e.basketLength,n=e.toggleBasket,a=e.animate;return(0,r.jsx)("header",{className:u().header,children:(0,r.jsxs)(i.r,{className:u().header__content,children:[(0,r.jsx)(o.default,{href:"/meal-picker",children:(0,r.jsx)("a",{children:(0,r.jsxs)("h1",{children:["meal",(0,r.jsx)("span",{className:u().header__highlight,children:"pick"}),"er"]})})}),t>0?(0,r.jsxs)("button",{onClick:n,className:"".concat(u().header__basket,"\n                ").concat(u()["header__basket--".concat(a?"in":"out")]),"data-testid":"header-basket",children:[(0,r.jsx)(l.LX,{}),(0,r.jsx)("span",{className:u().header__badge,children:t>99?"9+":t})]}):""]})})},f=n(2836),d=n.n(f),h=function(){return(0,r.jsx)("footer",{className:d().footer,children:(0,r.jsx)(i.r,{children:(0,r.jsxs)("a",{href:"https://www.perryharlock.co.uk",target:"_blank",rel:"noopener noreferrer",className:d().footer__highlight,children:["\xa9 ",(new Date).getFullYear()," Crayons by Perry Harlock"]})})})},b=n(3381),g=n(3157),k=n(8211),p=n.n(k),m=function(e){var t=e.basket,n=e.toggleBasket,a=e.resetBasket;return(0,r.jsx)("div",{className:p().basket,children:(0,r.jsxs)("div",{className:p().basket__inner,children:[(0,r.jsxs)("div",{className:p().basket__header,children:[(0,r.jsx)("h4",{className:p().basket__title,children:"Your basket"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("button",{title:"Reset basket",className:"".concat(p().basket__btn," ").concat(p()["basket__btn--reset"]),onClick:a,children:[(0,r.jsx)(l.UZ,{}),(0,r.jsx)(b.o,{children:"Reset basket"})]}),(0,r.jsxs)("button",{title:"Close basket",className:p().basket__btn,onClick:n,children:[(0,r.jsx)(l.x8,{}),(0,r.jsx)(b.o,{children:"Close Basket"})]})]})]}),(0,r.jsx)("div",{className:p().basket__scrollable,children:t.map((function(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:p().basket__meal,children:e.name}),(0,r.jsx)("ul",{className:p().basket__list,children:e.ingredients.map((function(e){return(0,r.jsx)(g.o,{ingredient:e},"ingredient-".concat(e.name))}))})]},e.url)}))})]})})},v=n(4504),y=n(8115),x=n.n(y),j=function(e){var t=e.children,n=(0,a.useState)([]),o=n[0],i=n[1],l=(0,a.useState)(0),c=l[0],u=l[1],f=(0,a.useState)(!1),d=f[0],b=f[1],g=(0,a.useState)(!1),k=g[0],p=g[1],y=function(e){i(e),u(e.length),p(!k),sessionStorage.setItem("basket",JSON.stringify({basketItems:e})),sessionStorage.setItem("basketLength",JSON.stringify(e.length))},j=function(){b(!d)};return(0,a.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("basket")||"{}"),t=JSON.parse(sessionStorage.getItem("basketLength")||"0");void 0!==e.basketItems&&i(e.basketItems),null!==t&&u(t)}),[]),(0,r.jsx)(v.V.Provider,{value:{isInBasket:function(e){return o.filter((function(t){return t.url===e})).length>0},addToBasket:function(e){o.push(e),y(o)},removeFromBasket:function(e){var t=o.filter((function(t){return t.url!==e.url}));y(t)}},children:(0,r.jsxs)("div",{className:"".concat(x().layout," ").concat(d?x()["layout--no-scroll"]:""),children:[(0,r.jsxs)(s.default,{children:[(0,r.jsx)("title",{children:"mealpicker"}),(0,r.jsx)("meta",{name:"description",content:"Meal picker app"}),(0,r.jsx)("link",{rel:"icon",href:"favicon.ico"})]}),(0,r.jsx)(_,{basketLength:c,toggleBasket:j,animate:k}),(0,r.jsx)("main",{className:x().layout__main,children:t}),(0,r.jsx)(h,{}),d?(0,r.jsx)(m,{basket:o,resetBasket:function(){i([]),u(0),b(!1),sessionStorage.setItem("basket",JSON.stringify({})),sessionStorage.setItem("basketLength",JSON.stringify("0"))},toggleBasket:j}):""]})})}},4504:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var r=n(7294).createContext({})},3381:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=n(5893),a=(n(7294),n(7243)),s=n.n(a),o=function(e){var t=e.children;return(0,r.jsx)("span",{className:s()["sr-only"],children:t})}},8418:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(l){i=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.default=void 0;var s,o=(s=n(7294))&&s.__esModule?s:{default:s},i=n(6273),l=n(387),c=n(7190);var u={};function _(e,t,n,r){if(e&&i.isLocalURL(t)){e.prefetch(t,n,r).catch((function(e){0}));var a=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;u[t+"%"+n+(a?"%"+a:"")]=!0}}var f=function(e){var t,n=!1!==e.prefetch,r=l.useRouter(),s=o.default.useMemo((function(){var t=a(i.resolveHref(r,e.href,!0),2),n=t[0],s=t[1];return{href:n,as:e.as?i.resolveHref(r,e.as):s||n}}),[r,e.href,e.as]),f=s.href,d=s.as,h=e.children,b=e.replace,g=e.shallow,k=e.scroll,p=e.locale;"string"===typeof h&&(h=o.default.createElement("a",null,h));var m=(t=o.default.Children.only(h))&&"object"===typeof t&&t.ref,v=a(c.useIntersection({rootMargin:"200px"}),2),y=v[0],x=v[1],j=o.default.useCallback((function(e){y(e),m&&("function"===typeof m?m(e):"object"===typeof m&&(m.current=e))}),[m,y]);o.default.useEffect((function(){var e=x&&n&&i.isLocalURL(f),t="undefined"!==typeof p?p:r&&r.locale,a=u[f+"%"+d+(t?"%"+t:"")];e&&!a&&_(r,f,d,{locale:t})}),[d,f,x,p,n,r]);var C={ref:j,onClick:function(e){t.props&&"function"===typeof t.props.onClick&&t.props.onClick(e),e.defaultPrevented||function(e,t,n,r,a,s,o,l){("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&i.isLocalURL(n))&&(e.preventDefault(),t[a?"replace":"push"](n,r,{shallow:s,locale:l,scroll:o}))}(e,r,f,d,b,g,k,p)},onMouseEnter:function(e){t.props&&"function"===typeof t.props.onMouseEnter&&t.props.onMouseEnter(e),i.isLocalURL(f)&&_(r,f,d,{priority:!0})}};if(e.passHref||"a"===t.type&&!("href"in t.props)){var w="undefined"!==typeof p?p:r&&r.locale,L=r&&r.isLocaleDomain&&i.getDomainLocale(d,w,r&&r.locales,r&&r.domainLocales);C.href=L||i.addBasePath(i.addLocale(d,w,r&&r.defaultLocale))}return o.default.cloneElement(t,C)};t.default=f},7190:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(l){i=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,n=e.rootMargin,r=e.disabled||!i,u=s.useRef(),_=a(s.useState(!1),2),f=_[0],d=_[1],h=a(s.useState(t?t.current:null),2),b=h[0],g=h[1],k=s.useCallback((function(e){u.current&&(u.current(),u.current=void 0),r||f||e&&e.tagName&&(u.current=function(e,t,n){var r=function(e){var t,n={root:e.root||null,margin:e.rootMargin||""},r=c.find((function(e){return e.root===n.root&&e.margin===n.margin}));r?t=l.get(r):(t=l.get(n),c.push(n));if(t)return t;var a=new Map,s=new IntersectionObserver((function(e){e.forEach((function(e){var t=a.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return l.set(n,t={id:n,observer:s,elements:a}),t}(n),a=r.id,s=r.observer,o=r.elements;return o.set(e,t),s.observe(e),function(){if(o.delete(e),s.unobserve(e),0===o.size){s.disconnect(),l.delete(a);var t=c.findIndex((function(e){return e.root===a.root&&e.margin===a.margin}));t>-1&&c.splice(t,1)}}}(e,(function(e){return e&&d(e)}),{root:b,rootMargin:n}))}),[r,b,n,f]);return s.useEffect((function(){if(!i&&!f){var e=o.requestIdleCallback((function(){return d(!0)}));return function(){return o.cancelIdleCallback(e)}}}),[f]),s.useEffect((function(){t&&g(t.current)}),[t]),[k,f]};var s=n(7294),o=n(9311),i="undefined"!==typeof IntersectionObserver;var l=new Map,c=[]},8211:function(e){e.exports={basket:"Basket_basket___IiOF",basket__inner:"Basket_basket__inner__mi8bb",fadeIn:"Basket_fadeIn__jDfYh",basket__ingredient:"Basket_basket__ingredient__qWKey",basket__header:"Basket_basket__header__PPIe2",basket__scrollable:"Basket_basket__scrollable__XZl9c",basket__title:"Basket_basket__title__HYcyd",basket__meal:"Basket_basket__meal__Ub9JW",basket__list:"Basket_basket__list__0yp5_",basket__btn:"Basket_basket__btn__KVH3v","basket__btn--reset":"Basket_basket__btn--reset__G5YEB"}},2836:function(e){e.exports={footer:"Footer_footer__Dhw_9",footer__highlight:"Footer_footer__highlight__o_Lot"}},2095:function(e){e.exports={container:"Grid_container__u9mbX"}},5897:function(e){e.exports={header:"Header_header__Z8PUO",header__content:"Header_header__content__iEV_n",header__highlight:"Header_header__highlight__Yc3h9",header__basket:"Header_header__basket__Q984y","header__basket--in":"Header_header__basket--in__lrBzA",shake:"Header_shake__POrg3","header__basket--out":"Header_header__basket--out__dKSL9","shake-out":"Header_shake-out__faYGE",header__badge:"Header_header__badge__DYP7F"}},6986:function(e){e.exports={ingredient:"Ingredient_ingredient__5ufpw",ingredient__title:"Ingredient_ingredient__title__Hcod1"}},8115:function(e){e.exports={layout:"Layout_layout__heU11",layout__main:"Layout_layout__main__7ipkh","layout--no-scroll":"Layout_layout--no-scroll__s4jHg"}},7243:function(e){e.exports={"sr-only":"SrOnly_sr-only__ncnME"}},9008:function(e,t,n){e.exports=n(5443)},1664:function(e,t,n){e.exports=n(8418)}}]);