(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6338)}])},6338:function(e,a,n){"use strict";n.r(a),n.d(a,{__N_SSG:function(){return w},default:function(){return C}});var s=n(5893),l=n(7294),t=n(9008),r=function(e,a){var n=(0,l.useState)(!1),s=n[0],t=n[1],r=(0,l.useCallback)((function(e){e.matches?t(!0):t(!1)}),[]);return(0,l.useEffect)((function(){var n=window.matchMedia("(".concat(a||"max","-width: ").concat(e,"px)"));return n.addListener(r),n.matches&&t(!0),function(){return n.removeListener(r)}}),[r,e,a]),s},i=n(253),_=n(2923),c=n(1664),o=n(8225),m=n.n(o),d=function(e){var a=e.meal,n=e.handleAdd,l=e.handleRemove,t=e.isInBasket,r=e.lazyLoad;return(0,s.jsxs)("li",{className:m().meal,children:[(0,s.jsx)(c.default,{href:"/meal-picker".concat(a.url),children:(0,s.jsxs)("a",{className:m().meal__link,title:a.name,children:[(0,s.jsxs)("div",{className:m()["meal__img-container"],children:[(0,s.jsx)("img",{loading:r?"lazy":"eager",className:m().meal__img,src:a.img?a.img:"meal-placeholder.webp",alt:a.name,width:"375",height:"250"}),(0,s.jsx)("span",{className:m().meal__type,children:a.type})]}),(0,s.jsxs)("div",{className:m().meal__lower,children:[(0,s.jsx)("h2",{className:m().meal__title,children:a.name}),(0,s.jsxs)("ul",{className:m()["meal__info-list"],children:[(0,s.jsxs)("li",{className:m().meal__info,children:[a.time," minutes"]}),a.serves&&(0,s.jsxs)("li",{className:m().meal__info,children:["Serves ",a.serves]})]})]})]})}),(0,s.jsx)("button",{"data-testid":t?"remove-from-basket":"add-to-basket",className:"".concat(m().meal__btn," ").concat(t?m()["meal__btn--remove"]:""),onClick:function(){return t?l(a):n(a)},children:t?"- Remove ingredients from basket":"+ Add ingredients to basket"})]},"meal-".concat(a.url))},u=n(9057),h=n(2460),f=n(6572),x=n(3381),p=n(9921),g=n.n(p),j=function(e){var a=e.name,n=e.label,l=e.checked,t=e.id,r=e.value,i=e.onChange;return(0,s.jsxs)("div",{className:g().radio__wrapper,children:[(0,s.jsx)("input",{name:a,id:t,value:r,"data-testid":"radio-".concat(t),defaultChecked:l,type:"radio",className:g().radio,onChange:i}),(0,s.jsx)("span",{className:g().radio__label,children:(0,s.jsx)("label",{htmlFor:t,children:n})})]})},k=function(e){var a=e.className,n=e.label,l=e.labelHidden,t=e.children;return(0,s.jsxs)("div",{className:a||"",children:[l?(0,s.jsx)(x.o,{children:(0,s.jsx)("p",{children:n})}):(0,s.jsx)("p",{children:n}),(0,s.jsx)("div",{className:g().radio__layout,children:t})]})},b=n(2066),v=n.n(b),N=function(e){var a=e.searchTerm,n=e.searchType,l=e.onChangeValue;return(0,s.jsxs)("form",{className:v().search__form,children:[(0,s.jsxs)("div",{className:v()["search__input-container"],children:[(0,s.jsx)("div",{className:v().search__icon,children:(0,s.jsx)(f.ol,{})}),(0,s.jsx)("input",{className:v().search__input,onChange:function(e){return l(e.target.value,n)},placeholder:"Type a meal name",value:a,"data-testid":"search-input"}),(0,s.jsx)("button",{type:"button",className:v().search__clear,onClick:function(){return l("",n)},children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.x8,{}),(0,s.jsx)(x.o,{children:"Reset basket"})]}):""})]}),(0,s.jsxs)(k,{label:"Filters",labelHidden:!0,children:[(0,s.jsx)(j,{name:"mealType",label:"All",id:"all",value:"all",checked:""===n,onChange:function(){return l(a,"")}}),(0,s.jsx)(j,{name:"mealType",label:"Meals",id:"meal",value:"meal",checked:"meal"===n,onChange:function(){return l(a,"meal")}}),(0,s.jsx)(j,{name:"mealType",label:"Baking",id:"baking",value:"baking",checked:"baking"===n,onChange:function(){return l(a,"baking")}}),(0,s.jsx)(j,{name:"mealType",label:"Drink",id:"drink",value:"drink",checked:"drink"===n,onChange:function(){return l(a,"drink")}})]})]})},S=n(3117),y=n.n(S),w=!0,C=function(e){var a=e.mealData,n=(0,l.useState)([]),c=n[0],o=n[1],m=(0,l.useState)(0),f=m[0],x=m[1],p=(0,l.useState)(!1),g=p[0],j=p[1],k=(0,l.useState)(""),b=k[0],v=k[1],S=(0,l.useState)(""),w=S[0],C=S[1],M=(0,l.useState)(a),L=M[0],I=M[1],T=(0,l.useState)(!1),O=T[0],R=T[1],B=r(767),E=r(991)&&!B,A=r(992,"min"),J=function(e){o(e),x(e.length),R(!O),sessionStorage.setItem("basket",JSON.stringify({basketItems:e})),sessionStorage.setItem("basketLength",JSON.stringify(e.length))},X=function(e){c.push(e),J(c)},z=function(e){var a=c.filter((function(a){return a.url!==e.url}));J(a)},F=function(){j(!g)};return(0,l.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("basket")||"{}"),a=JSON.parse(sessionStorage.getItem("basketLength")||"0");void 0!==e.basketItems&&o(e.basketItems),null!==a&&x(a)}),[]),(0,s.jsxs)("div",{className:"".concat(y().meals," ").concat(g?y()["meals--no-scroll"]:""),children:[(0,s.jsxs)(t.default,{children:[(0,s.jsx)("title",{children:"mealpicker"}),(0,s.jsx)("meta",{name:"description",content:"Meal picker app"}),(0,s.jsx)("link",{rel:"icon",href:"favicon.ico"})]}),(0,s.jsx)(_.h,{basketLength:f,toggleBasket:F,animate:O}),(0,s.jsxs)("main",{className:y().meals__main,children:[(0,s.jsxs)(i.r,{children:[(0,s.jsx)(N,{searchTerm:b,onChangeValue:function(e,n){I(a.filter((function(a){return-1!==a.type.toLowerCase().indexOf(n.toLowerCase())&&-1!==a.name.toLowerCase().indexOf(e.toLowerCase())}))),v(e),C(n)},searchType:w}),L.length?(0,s.jsx)("ul",{className:y().meals__list,children:L.map((function(e,a){return(0,s.jsx)(d,{meal:e,handleRemove:z,handleAdd:X,isInBasket:(n=e.url,c.filter((function(e){return e.url===n})).length>0),lazyLoad:a>(A?8:E?7:2)},e.url);var n}))}):(0,s.jsx)("p",{children:"No matches for your search :-/"})]}),g?(0,s.jsx)(h.L,{basket:c,resetBasket:function(){o([]),x(0),j(!1),sessionStorage.setItem("basket",JSON.stringify({})),sessionStorage.setItem("basketLength",JSON.stringify("0"))},toggleBasket:F}):""]}),(0,s.jsx)(u.$,{})]})}},8225:function(e){e.exports={meal:"Meal_meal__wa4DR",meal__img:"Meal_meal__img__SZYqW","meal__img-container":"Meal_meal__img-container__LezIY",meal__title:"Meal_meal__title__C9mWC",meal__info:"Meal_meal__info__FmXUQ","meal__info-list":"Meal_meal__info-list__V_TL6",meal__lower:"Meal_meal__lower__qsEas",meal__link:"Meal_meal__link__ZxSjk",meal__btn:"Meal_meal__btn__dfPKX","meal__btn--remove":"Meal_meal__btn--remove__VRtWy",meal__type:"Meal_meal__type__K2Q0J"}},9921:function(e){e.exports={radio:"Radio_radio__8nTM8",radio__label:"Radio_radio__label__Ln_Tr",radio__layout:"Radio_radio__layout__sI_py",radio__wrapper:"Radio_radio__wrapper__3mYcB"}},2066:function(e){e.exports={search__form:"Search_search__form__wx0Uj",search__input:"Search_search__input__ytYur","search__input-container":"Search_search__input-container__wL3f4",search__icon:"Search_search__icon__3M9XM",search__clear:"Search_search__clear___BLIh"}},3117:function(e){e.exports={meals:"Meals_meals__sEOAA","meals--no-scroll":"Meals_meals--no-scroll__UA59g",meals__main:"Meals_meals__main__mNj69",meals__list:"Meals_meals__list__lWBy1"}}},function(e){e.O(0,[678,774,888,179],(function(){return a=5301,e(e.s=a);var a}));var a=e.O();_N_E=a}]);