(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7348)}])},7348:function(e,a,n){"use strict";n.r(a),n.d(a,{__N_SSG:function(){return w},default:function(){return C}});var l=n(5893),r=n(7294),_=n(1638),s=function(e,a){var n=(0,r.useState)(!1),l=n[0],_=n[1],s=(0,r.useCallback)((function(e){e.matches?_(!0):_(!1)}),[]);return(0,r.useEffect)((function(){var n=window.matchMedia("(".concat(a||"max","-width: ").concat(e,"px)"));return n.addListener(s),n.matches&&_(!0),function(){return n.removeListener(s)}}),[s,e,a]),l},i=n(4504),t=n(6572),c=n(3381),o=n(9921),m=n.n(o),d=function(e){var a=e.name,n=e.label,r=e.checked,_=e.id,s=e.value,i=e.onChange;return(0,l.jsxs)("div",{className:m().radio__wrapper,children:[(0,l.jsx)("input",{name:a,id:_,value:s,"data-testid":"radio-".concat(_),defaultChecked:r,type:"radio",className:m().radio,onChange:i}),(0,l.jsx)("span",{className:m().radio__label,children:(0,l.jsx)("label",{htmlFor:_,children:n})})]})},u=function(e){var a=e.className,n=e.label,r=e.labelHidden,_=e.children;return(0,l.jsxs)("div",{className:a||"",children:[r?(0,l.jsx)(c.o,{children:(0,l.jsx)("p",{children:n})}):(0,l.jsx)("p",{children:n}),(0,l.jsx)("div",{className:m().radio__layout,children:_})]})},h=n(2066),f=n.n(h),x=function(e){var a=e.searchTerm,n=e.searchType,r=e.onChangeValue;return(0,l.jsxs)("form",{className:f().search__form,children:[(0,l.jsxs)("div",{className:f()["search__input-container"],children:[(0,l.jsx)("div",{className:f().search__icon,children:(0,l.jsx)(t.ol,{})}),(0,l.jsx)(c.o,{children:(0,l.jsx)("label",{htmlFor:"search-input",children:"Enter a search term"})}),(0,l.jsx)("input",{id:"search-input",className:f().search__input,onChange:function(e){return r(e.target.value,n)},placeholder:"Type a meal name",value:a,"data-testid":"search-input"}),a&&(0,l.jsxs)("button",{type:"button",className:f().search__clear,onClick:function(){return r("",n)},children:[(0,l.jsx)(t.x8,{}),(0,l.jsx)(c.o,{children:"Reset basket"})]})]}),(0,l.jsxs)(u,{label:"Filters",labelHidden:!0,children:[(0,l.jsx)(d,{name:"mealType",label:"All",id:"all",value:"all",checked:""===n,onChange:function(){return r(a,"")}}),(0,l.jsx)(d,{name:"mealType",label:"Meals",id:"meal",value:"meal",checked:"meal"===n,onChange:function(){return r(a,"meal")}}),(0,l.jsx)(d,{name:"mealType",label:"Baking",id:"baking",value:"baking",checked:"baking"===n,onChange:function(){return r(a,"baking")}}),(0,l.jsx)(d,{name:"mealType",label:"Drink",id:"drink",value:"drink",checked:"drink"===n,onChange:function(){return r(a,"drink")}})]})]})},p=n(1664),j=n(2260),b=n.n(j),k=function(e){var a=e.meal,n=e.handleAdd,r=e.handleRemove,_=e.isInBasket,s=e.lazyLoad;return(0,l.jsxs)("li",{className:b().meal,children:[(0,l.jsx)(p.default,{href:"/meal-picker".concat(a.url),children:(0,l.jsxs)("a",{className:b().meal__link,title:a.name,children:[(0,l.jsxs)("div",{className:b()["meal__img-container"],children:[(0,l.jsx)("img",{loading:s?"lazy":"eager",className:b().meal__img,src:a.img?a.img:"meal-placeholder.webp",alt:a.name,width:"375",height:"250"}),(0,l.jsx)("span",{className:b().meal__type,children:a.type})]}),(0,l.jsxs)("div",{className:b().meal__lower,children:[(0,l.jsx)("h2",{className:b().meal__title,children:a.name}),(0,l.jsxs)("ul",{className:b()["meal__info-list"],children:[(0,l.jsxs)("li",{className:b().meal__info,children:[a.time," minutes"]}),a.serves&&(0,l.jsxs)("li",{className:b().meal__info,children:["Serves ",a.serves]})]})]})]})}),(0,l.jsx)("button",{"data-testid":_?"remove-from-basket":"add-to-basket",className:"".concat(b().meal__btn," ").concat(_?b()["meal__btn--remove"]:""),onClick:function(){return _?r(a):n(a)},children:_?"- Remove ingredients from basket":"+ Add ingredients to basket"})]},"meal-".concat(a.url))},v=n(253),g=n(293),N=n.n(g),y=function(e){var a=e.mealData,n=(0,r.useContext)(i.V),_=n.isInBasket,t=n.removeFromBasket,c=n.addToBasket,o=(0,r.useState)(a),m=o[0],d=o[1],u=(0,r.useState)(""),h=u[0],f=u[1],p=(0,r.useState)(""),j=p[0],b=p[1],g=s(767),y=s(991)&&!g,w=s(992,"min");return(0,l.jsxs)(v.r,{children:[(0,l.jsx)(x,{searchTerm:h,onChangeValue:function(e,n){d(a.filter((function(a){return-1!==a.type.toLowerCase().indexOf(n.toLowerCase())&&-1!==a.name.toLowerCase().indexOf(e.toLowerCase())}))),f(e),b(n)},searchType:j}),m.length?(0,l.jsx)("ul",{className:N().meals__list,children:m.map((function(e,a){return(0,l.jsx)(k,{meal:e,isInBasket:_(e.url),handleRemove:t,handleAdd:c,lazyLoad:a>(w?8:y?7:2)},e.url)}))}):(0,l.jsx)("p",{children:"No matches for your search :-/"})]})},w=!0,C=function(e){var a=e.mealData;return(0,l.jsx)(_.A,{children:(0,l.jsx)(y,{mealData:a})})}},2260:function(e){e.exports={meal:"Meal_meal__CdKcb",meal__img:"Meal_meal__img__e5nz4","meal__img-container":"Meal_meal__img-container__C__eF",meal__title:"Meal_meal__title__P2Fy3",meal__info:"Meal_meal__info__IAiBr","meal__info-list":"Meal_meal__info-list__OS_ED",meal__lower:"Meal_meal__lower__cVM9b",meal__link:"Meal_meal__link__kh7rK",meal__btn:"Meal_meal__btn__XWWFP","meal__btn--remove":"Meal_meal__btn--remove__iXY_B",meal__type:"Meal_meal__type__zX2HV"}},293:function(e){e.exports={meals__list:"Meals_meals__list__zcUF5"}},9921:function(e){e.exports={radio:"Radio_radio__8nTM8",radio__label:"Radio_radio__label__Ln_Tr",radio__layout:"Radio_radio__layout__sI_py",radio__wrapper:"Radio_radio__wrapper__3mYcB"}},2066:function(e){e.exports={search__form:"Search_search__form__wx0Uj",search__input:"Search_search__input__ytYur","search__input-container":"Search_search__input-container__wL3f4",search__icon:"Search_search__icon__3M9XM",search__clear:"Search_search__clear___BLIh"}}},function(e){e.O(0,[638,774,888,179],(function(){return a=5301,e(e.s=a);var a}));var a=e.O();_N_E=a}]);