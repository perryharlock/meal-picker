(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6338)}])},2460:function(e,a,n){"use strict";n.d(a,{L:function(){return c}});var t=n(5893),s=(n(7294),n(3381)),r=n(3157),_=n(6572),i=n(8211),l=n.n(i),c=function(e){var a=e.basket,n=e.toggleBasket,i=e.resetBasket;return(0,t.jsx)("div",{className:l().basket,children:(0,t.jsxs)("div",{className:l().basket__inner,children:[(0,t.jsxs)("div",{className:l().basket__header,children:[(0,t.jsx)("h4",{className:l().basket__title,children:"Your basket"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("button",{title:"Reset basket",className:"".concat(l().basket__btn," ").concat(l()["basket__btn--reset"]),onClick:i,children:[(0,t.jsx)(_.UZ,{}),(0,t.jsx)(s.o,{children:"Reset basket"})]}),(0,t.jsxs)("button",{title:"Close basket",className:l().basket__btn,onClick:n,children:[(0,t.jsx)(_.x8,{}),(0,t.jsx)(s.o,{children:"Close Basket"})]})]})]}),(0,t.jsx)("div",{className:l().basket__scrollable,children:a.map((function(e){return(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:l().basket__meal,children:e.name}),(0,t.jsx)("ul",{className:l().basket__list,children:e.ingredients.map((function(e){return(0,t.jsx)(r.o,{ingredient:e},"ingredient-".concat(e.name))}))})]},e.url)}))})]})})}},9057:function(e,a,n){"use strict";n.d(a,{$:function(){return i}});var t=n(5893),s=(n(7294),n(253)),r=n(2836),_=n.n(r),i=function(){return(0,t.jsx)("footer",{className:_().footer,children:(0,t.jsx)(s.r,{children:(0,t.jsxs)("a",{href:"https://www.perryharlock.co.uk",target:"_blank",rel:"noopener noreferrer",className:_().footer__highlight,children:["\xa9 ",(new Date).getFullYear()," Crayons by Perry Harlock"]})})})}},253:function(e,a,n){"use strict";n.d(a,{r:function(){return _}});var t=n(5893),s=(n(7294),n(2095)),r=n.n(s),_=function(e){var a=e.children,n=e.className;return(0,t.jsx)("div",{className:"".concat(r().container," ").concat(n||""),children:a})}},2923:function(e,a,n){"use strict";n.d(a,{h:function(){return l}});var t=n(5893),s=(n(7294),n(253)),r=n(6572),_=n(5897),i=n.n(_),l=function(e){var a=e.basketLength,n=e.toggleBasket,_=e.animate;return(0,t.jsx)("header",{className:i().header,children:(0,t.jsxs)(s.r,{className:i().header__content,children:[(0,t.jsx)("a",{href:"/meal-picker",children:(0,t.jsxs)("h1",{children:["meal",(0,t.jsx)("span",{className:i().header__highlight,children:"pick"}),"er"]})}),a>0?(0,t.jsxs)("button",{onClick:n,className:"".concat(i().header__basket,"\n                ").concat(i()["header__basket--".concat(_?"in":"out")]),"data-testid":"header-basket",children:[(0,t.jsx)(r.LX,{}),(0,t.jsx)("span",{className:i().header__badge,children:a>99?"9+":a})]}):""]})})}},6572:function(e,a,n){"use strict";n.d(a,{LX:function(){return s},UZ:function(){return r},x8:function(){return _},ol:function(){return i}});var t=n(5893),s=(n(7294),function(){return(0,t.jsx)("svg",{viewBox:"0 0 123 95",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.04 27.72H21.47L44.56 1.85998C46.61 -0.440023 50.17 -0.640023 52.46 1.40998C54.76 3.45998 54.96 7.01998 52.91 9.31998L36.49 27.72H86.81L70.39 9.31998C68.34 7.01998 68.54 3.45998 70.84 1.40998C73.14 -0.640023 76.69 -0.440023 78.75 1.85998L101.83 27.72H110.85H110.97H119.44C121.34 27.72 122.89 29.27 122.89 31.17V40.9C122.89 42.8 121.34 44.35 119.44 44.35H112.11L108.34 91.88C108.24 93.19 107.26 94.27 105.95 94.27H16.94C15.63 94.27 14.65 93.19 14.55 91.88L10.78 44.35H3.45C1.55 44.35 0 42.8 0 40.9V31.17C0 29.27 1.55 27.72 3.45 27.72H11.92H12.04ZM77.67 46.22H88.58V77.75H77.67V46.22ZM56.45 46.22H67.35V77.75H56.45V46.22V46.22ZM35.23 46.22H46.14V77.75H35.23V46.22V46.22Z"})})}),r=function(){return(0,t.jsx)("svg",{viewBox:"0 0 120 87",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M16.3592 43.5061H0L21.8204 65.2592L43.6408 43.5061H27.2694C27.2694 25.5128 41.9388 10.8765 60 10.8765C65.5102 10.8765 70.751 12.2315 75.2694 14.6851L83.2286 6.75053C76.5306 2.50245 68.5592 0 60 0C35.8898 0 16.3592 19.4703 16.3592 43.5061ZM92.7306 43.5061C92.7306 61.4994 78.0612 76.1357 60 76.1357C54.4898 76.1357 49.249 74.7807 44.7306 72.3271L36.7714 80.2617C43.4816 84.4976 51.4408 87 60.0122 87C84.1224 87 103.653 67.5297 103.653 43.4939H120L98.1796 21.7531L76.3592 43.5061H92.7306Z"})})},_=function(){return(0,t.jsx)("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M15.96 1.499l-1.459-1.459-6.501 6.501-6.501-6.501-1.459 1.459 6.501 6.501-6.501 6.501 1.459 1.459 6.501-6.501 6.501 6.501 1.459-1.459-6.501-6.501z"})})},i=function(){return(0,t.jsx)("svg",{viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M29.6133 27.8396L22.1824 20.4026C23.9406 18.2463 25.0004 15.5018 25.0004 12.5062C25.0004 5.61438 19.395 0.00292969 12.4971 0.00292969C5.5992 0.00292969 0 5.61438 0 12.5062C0 19.398 5.60532 25.0033 12.5032 25.0033C15.4927 25.0033 18.2433 23.9435 20.3997 22.1853L27.8306 29.6162C28.339 30.1246 29.1109 30.1246 29.6194 29.6162C30.1278 29.1077 30.1278 28.3481 29.6133 27.8396ZM2.4933 12.5062C2.4933 6.98661 6.97756 2.50235 12.4971 2.50235C18.0167 2.50235 22.5071 6.99274 22.5071 12.5123C22.5071 18.0319 18.0167 22.5222 12.4971 22.5222C6.97756 22.5222 2.4933 18.0257 2.4933 12.5062Z"})})}},3157:function(e,a,n){"use strict";n.d(a,{o:function(){return _}});var t=n(5893),s=(n(7294),n(6986)),r=n.n(s),_=function(e){var a=e.ingredient;return(0,t.jsxs)("li",{className:r().ingredient,children:[(0,t.jsx)("div",{children:a.name}),(0,t.jsxs)("div",{children:[a.quantity,"g"!==a.quantityType?" ":"",a.quantityType]})]},"tag-".concat(a.name))}},3381:function(e,a,n){"use strict";n.d(a,{o:function(){return _}});var t=n(5893),s=(n(7294),n(7243)),r=n.n(s),_=function(e){var a=e.children;return(0,t.jsx)("span",{className:r()["sr-only"],children:a})}},6338:function(e,a,n){"use strict";n.r(a),n.d(a,{__N_SSG:function(){return w},default:function(){return y}});var t=n(5893),s=n(7294),r=n(9008),_=function(e,a){var n=(0,s.useState)(!1),t=n[0],r=n[1],_=(0,s.useCallback)((function(e){e.matches?r(!0):r(!1)}),[]);return(0,s.useEffect)((function(){var n=window.matchMedia("(".concat(a||"max","-width: ").concat(e,"px)"));return n.addListener(_),n.matches&&r(!0),function(){return n.removeListener(_)}}),[_,e,a]),t},i=n(253),l=n(2923),c=n(8225),o=n.n(c),d=function(e){var a=e.meal,n=e.handleAdd,s=e.handleRemove,r=e.isInBasket,_=e.lazyLoad;return(0,t.jsxs)("li",{className:o().meal,children:[(0,t.jsxs)("a",{className:o().meal__link,title:a.name,href:"/meal-picker".concat(a.url),children:[(0,t.jsxs)("div",{className:o()["meal__img-container"],children:[(0,t.jsx)("img",{loading:_?"lazy":"eager",className:o().meal__img,src:a.img?a.img:"meal-placeholder.webp",alt:a.name,width:"375",height:"250"}),(0,t.jsx)("span",{className:o().meal__type,children:a.type})]}),(0,t.jsxs)("div",{className:o().meal__lower,children:[(0,t.jsx)("h2",{className:o().meal__title,children:a.name}),(0,t.jsxs)("ul",{className:o()["meal__info-list"],children:[(0,t.jsxs)("li",{className:o().meal__info,children:[a.time," minutes"]}),a.serves&&(0,t.jsxs)("li",{className:o().meal__info,children:["Serves ",a.serves]})]})]})]}),(0,t.jsx)("button",{"data-testid":r?"remove-from-basket":"add-to-basket",className:"".concat(o().meal__btn," ").concat(r?o()["meal__btn--remove"]:""),onClick:function(){return r?s(a):n(a)},children:r?"- Remove ingredients from basket":"+ Add ingredients to basket"})]},"meal-".concat(a.url))},h=n(9057),u=n(2460),m=n(6572),f=n(3381),k=n(9921),x=n.n(k),b=function(e){var a=e.name,n=e.label,s=e.checked,r=e.id,_=e.value,i=e.onChange;return(0,t.jsxs)("div",{className:x().radio__wrapper,children:[(0,t.jsx)("input",{name:a,id:r,value:_,"data-testid":"radio-".concat(r),defaultChecked:s,type:"radio",className:x().radio,onChange:i}),(0,t.jsx)("span",{className:x().radio__label,children:(0,t.jsx)("label",{htmlFor:r,children:n})})]})},g=function(e){var a=e.className,n=e.label,s=e.labelHidden,r=e.children;return(0,t.jsxs)("div",{className:a||"",children:[s?(0,t.jsx)(f.o,{children:(0,t.jsx)("p",{children:n})}):(0,t.jsx)("p",{children:n}),(0,t.jsx)("div",{className:x().radio__layout,children:r})]})},j=n(2066),p=n.n(j),v=function(e){var a=e.searchTerm,n=e.searchType,s=e.onChangeValue;return(0,t.jsxs)("form",{className:p().search__form,children:[(0,t.jsxs)("div",{className:p()["search__input-container"],children:[(0,t.jsx)("div",{className:p().search__icon,children:(0,t.jsx)(m.ol,{})}),(0,t.jsx)("input",{className:p().search__input,onChange:function(e){return s(e.target.value,n)},placeholder:"Type a meal name",value:a,"data-testid":"search-input"}),(0,t.jsx)("button",{type:"button",className:p().search__clear,onClick:function(){return s("",n)},children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.x8,{}),(0,t.jsx)(f.o,{children:"Reset basket"})]}):""})]}),(0,t.jsxs)(g,{label:"Filters",labelHidden:!0,children:[(0,t.jsx)(b,{name:"mealType",label:"All",id:"all",value:"all",checked:""===n,onChange:function(){return s(a,"")}}),(0,t.jsx)(b,{name:"mealType",label:"Meals",id:"meal",value:"meal",checked:"meal"===n,onChange:function(){return s(a,"meal")}}),(0,t.jsx)(b,{name:"mealType",label:"Baking",id:"baking",value:"baking",checked:"baking"===n,onChange:function(){return s(a,"baking")}}),(0,t.jsx)(b,{name:"mealType",label:"Drink",id:"drink",value:"drink",checked:"drink"===n,onChange:function(){return s(a,"drink")}})]})]})},N=n(3117),C=n.n(N),w=!0,y=function(e){var a=e.mealData,n=(0,s.useState)([]),c=n[0],o=n[1],m=(0,s.useState)(0),f=m[0],k=m[1],x=(0,s.useState)(!1),b=x[0],g=x[1],j=(0,s.useState)(""),p=j[0],N=j[1],w=(0,s.useState)(""),y=w[0],L=w[1],H=(0,s.useState)(a),S=H[0],M=H[1],B=(0,s.useState)(!1),I=B[0],T=B[1],V=_(767),O=_(991)&&!V,R=_(992,"min"),Z=function(e){o(e),k(e.length),T(!I),sessionStorage.setItem("basket",JSON.stringify({basketItems:e})),sessionStorage.setItem("basketLength",JSON.stringify(e.length))},E=function(e){c.push(e),Z(c)},Y=function(e){var a=c.filter((function(a){return a.url!==e.url}));Z(a)},F=function(){g(!b)};return(0,s.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("basket")||"{}"),a=JSON.parse(sessionStorage.getItem("basketLength")||"0");void 0!==e.basketItems&&o(e.basketItems),null!==a&&k(a)}),[]),(0,t.jsxs)("div",{className:"".concat(C().meals," ").concat(b?C()["meals--no-scroll"]:""),children:[(0,t.jsxs)(r.default,{children:[(0,t.jsx)("title",{children:"mealpicker"}),(0,t.jsx)("meta",{name:"description",content:"Meal picker app"}),(0,t.jsx)("link",{rel:"icon",href:"favicon.ico"})]}),(0,t.jsx)(l.h,{basketLength:f,toggleBasket:F,animate:I}),(0,t.jsxs)("main",{className:C().meals__main,children:[(0,t.jsxs)(i.r,{children:[(0,t.jsx)(v,{searchTerm:p,onChangeValue:function(e,n){M(a.filter((function(a){return-1!==a.type.toLowerCase().indexOf(n.toLowerCase())&&-1!==a.name.toLowerCase().indexOf(e.toLowerCase())}))),N(e),L(n)},searchType:y}),S.length?(0,t.jsx)("ul",{className:C().meals__list,children:S.map((function(e,a){return(0,t.jsx)(d,{meal:e,handleRemove:Y,handleAdd:E,isInBasket:(n=e.url,c.filter((function(e){return e.url===n})).length>0),lazyLoad:a>(R?8:O?7:2)},e.url);var n}))}):(0,t.jsx)("p",{children:"No matches for your search :-/"})]}),b?(0,t.jsx)(u.L,{basket:c,resetBasket:function(){o([]),k(0),g(!1),sessionStorage.setItem("basket",JSON.stringify({})),sessionStorage.setItem("basketLength",JSON.stringify("0"))},toggleBasket:F}):""]}),(0,t.jsx)(h.$,{})]})}},8211:function(e){e.exports={basket:"Basket_basket___IiOF",basket__inner:"Basket_basket__inner__mi8bb",basket__ingredient:"Basket_basket__ingredient__qWKey",basket__header:"Basket_basket__header__PPIe2",basket__scrollable:"Basket_basket__scrollable__XZl9c",basket__title:"Basket_basket__title__HYcyd",basket__meal:"Basket_basket__meal__Ub9JW",basket__list:"Basket_basket__list__0yp5_",basket__btn:"Basket_basket__btn__KVH3v","basket__btn--reset":"Basket_basket__btn--reset__G5YEB"}},2836:function(e){e.exports={footer:"Footer_footer__Dhw_9",footer__highlight:"Footer_footer__highlight__o_Lot"}},2095:function(e){e.exports={container:"Grid_container__u9mbX"}},5897:function(e){e.exports={header:"Header_header__Z8PUO",header__content:"Header_header__content__iEV_n",header__highlight:"Header_header__highlight__Yc3h9",header__basket:"Header_header__basket__Q984y","header__basket--in":"Header_header__basket--in__lrBzA",shake:"Header_shake__POrg3","header__basket--out":"Header_header__basket--out__dKSL9","shake-out":"Header_shake-out__faYGE",header__badge:"Header_header__badge__DYP7F"}},6986:function(e){e.exports={ingredient:"Ingredient_ingredient__5ufpw",ingredient__title:"Ingredient_ingredient__title__Hcod1"}},8225:function(e){e.exports={meal:"Meal_meal__wa4DR",meal__img:"Meal_meal__img__SZYqW","meal__img-container":"Meal_meal__img-container__LezIY",meal__title:"Meal_meal__title__C9mWC",meal__info:"Meal_meal__info__FmXUQ","meal__info-list":"Meal_meal__info-list__V_TL6",meal__lower:"Meal_meal__lower__qsEas",meal__link:"Meal_meal__link__ZxSjk",meal__btn:"Meal_meal__btn__dfPKX","meal__btn--remove":"Meal_meal__btn--remove__VRtWy",meal__type:"Meal_meal__type__K2Q0J"}},9921:function(e){e.exports={radio:"Radio_radio__8nTM8",radio__label:"Radio_radio__label__Ln_Tr",radio__layout:"Radio_radio__layout__sI_py",radio__wrapper:"Radio_radio__wrapper__3mYcB"}},2066:function(e){e.exports={search__form:"Search_search__form__wx0Uj",search__input:"Search_search__input__ytYur","search__input-container":"Search_search__input-container__wL3f4",search__icon:"Search_search__icon__3M9XM",search__clear:"Search_search__clear___BLIh"}},7243:function(e){e.exports={"sr-only":"SrOnly_sr-only__ncnME"}},3117:function(e){e.exports={meals:"Meals_meals__sEOAA","meals--no-scroll":"Meals_meals--no-scroll__UA59g",meals__main:"Meals_meals__main__mNj69",meals__list:"Meals_meals__list__lWBy1"}},9008:function(e,a,n){e.exports=n(5443)}},function(e){e.O(0,[774,888,179],(function(){return a=5301,e(e.s=a);var a}));var a=e.O();_N_E=a}]);