(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[502],{4372:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[meal]",function(){return a(2344)}])},2344:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return x},default:function(){return g}});var n=a(5893),_=a(7294),i=a(9008),s=a(253),l=a(2923),r=a(9057),c=a(2460),m=a(3157),o=a(9566),d=a.n(o),u=function(e){var t=e.children,a=(0,_.useState)("tab0"),i=a[0],s=a[1],l=function(e,t){e.preventDefault(),function(e){s(e)}(t)};return(0,n.jsxs)("div",{children:[(0,n.jsx)("ul",{className:d().tab__nav,role:"presentation",children:_.Children.map(t,(function(e,t){var a=e,_=i==="tab".concat(t),s="tab".concat(t);return(0,n.jsx)("li",{className:d().tab,role:"presentation",children:(0,n.jsx)("a",{className:"".concat(d().tab__link," ").concat(_?d()["tab__link--active"]:""),onClick:function(e){return l(e,s)},role:"tab",href:"#".concat(s),"aria-controls":s,"aria-selected":_,tabIndex:i===s?0:-1,children:a.props.title})})}))}),_.Children.map(t,(function(e,t){var a=i==="tab".concat(t),_="tab".concat(t);return(0,n.jsx)("div",{id:_,"aria-labelledby":_,"aria-hidden":!a,role:"tabpanel",className:"".concat(d().tab__content," ").concat(a?d()["tab__content--active"]:""),children:e})}))]})},h=function(e){var t=e.children;return(0,n.jsx)(n.Fragment,{children:t})},b=a(4575),f=a.n(b),g=function(e){var t=e.url,a=e.name,o=e.img,d=e.time,b=e.serves,g=e.type,x=e.ingredients,v=e.method,j=(0,_.useState)([]),k=j[0],p=j[1],N=(0,_.useState)(0),M=N[0],S=N[1],I=(0,_.useState)(!1),y=I[0],O=I[1],w=(0,_.useState)(!1),T=w[0],E=w[1],C={url:t,name:a,img:o,time:d,serves:b,type:g,ingredients:x,method:v},J=function(e){p(e),S(e.length),E(!T),sessionStorage.setItem("basket",JSON.stringify({basketItems:e})),sessionStorage.setItem("basketLength",JSON.stringify(e.length))},L=function(){return k.filter((function(e){return e.url===t})).length>0},P=function(){O(!y)};(0,_.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("basket")||"{}"),t=JSON.parse(sessionStorage.getItem("basketLength")||"0");void 0!==e.basketItems&&p(e.basketItems),null!==t&&S(t)}),[]);return(0,n.jsxs)("div",{className:"".concat(f().meal," ").concat(y?f()["meals--no-scroll"]:""),children:[(0,n.jsxs)(i.default,{children:[(0,n.jsx)("title",{children:"mealpicker"}),(0,n.jsx)("meta",{name:"description",content:"Meal picker app"}),(0,n.jsx)("link",{rel:"icon",href:"favicon.ico"})]}),(0,n.jsx)(l.h,{basketLength:M,toggleBasket:P,animate:T}),(0,n.jsxs)("main",{className:f().meal__main,children:[(0,n.jsxs)(s.r,{className:f().meal__grid,children:[(0,n.jsxs)("div",{className:f().meal__summary,children:[(0,n.jsxs)("div",{className:f().meal__text,children:[(0,n.jsx)("h2",{className:f().meal__title,children:a}),(0,n.jsxs)("ul",{className:f()["meal__info-list"],children:[(0,n.jsxs)("li",{className:f().meal__info,children:[d," minutes"]}),b&&(0,n.jsxs)("li",{className:f().meal__info,children:["Serves ",b]})]}),(0,n.jsx)("button",{"data-test-id":L()?"remove-from-basket":"add-to-basket",className:"".concat(f().meal__btn," ").concat(L()?f()["meal__btn--remove"]:""),onClick:function(){return L()?function(e){var t=k.filter((function(t){return t.url!==e.url}));J(t)}(C):(e=C,k.push(e),void J(k));var e},children:L()?"- Remove ingredients from basket":"+ Add ingredients to basket"})]}),(0,n.jsxs)("div",{className:f()["meal__img-container"],children:[(0,n.jsx)("img",{className:f().meal__img,src:o||"meal-placeholder.webp",alt:a,width:"375",height:"250"}),(0,n.jsx)("span",{className:f().meal__type,children:g})]})]}),(0,n.jsx)("div",{className:f().meal__ingredients,children:(0,n.jsxs)(u,{children:[(0,n.jsx)(h,{title:"Ingredients",children:(0,n.jsx)("ul",{className:f()["meal__ingredients-list"],children:x.map((function(e){return(0,n.jsx)(m.o,{ingredient:e},"ingredient-".concat(e.name))}))})}),(0,n.jsx)(h,{title:"Method",children:v?(0,n.jsx)("ol",{className:f()["meal__method-list"],children:v.map((function(e,t){return(0,n.jsx)("li",{className:f()["meal__method-item"],children:e},"step-".concat(t))}))}):(0,n.jsx)("p",{children:"No method availabe"})})]})})]}),y?(0,n.jsx)(c.L,{basket:k,resetBasket:function(){p([]),S(0),O(!1),sessionStorage.setItem("basket",JSON.stringify({})),sessionStorage.setItem("basketLength",JSON.stringify("0"))},toggleBasket:P}):""]}),(0,n.jsx)(r.$,{})]})},x=!0},9566:function(e){e.exports={tab:"Tabs_tab___0OPZ",tab__nav:"Tabs_tab__nav__XM2FR",tab__link:"Tabs_tab__link__VfKaT","tab__link--active":"Tabs_tab__link--active__EsZgM",tab__content:"Tabs_tab__content__frSB9","tab__content--active":"Tabs_tab__content--active__oFWmX"}},4575:function(e){e.exports={meal:"Meal_meal__i9Vja",meal__title:"Meal_meal__title__hzWoa",meal__ingredients:"Meal_meal__ingredients__aPbRu","meal__ingredients-title":"Meal_meal__ingredients-title__c9M__",meal__grid:"Meal_meal__grid__DY0O8",meal__summary:"Meal_meal__summary__koIfL",meal__text:"Meal_meal__text__hwnf6","meal__img-container":"Meal_meal__img-container__MeEkk",meal__img:"Meal_meal__img__1wuVI",meal__main:"Meal_meal__main__OxbK7",meal__info:"Meal_meal__info__uuFQ_","meal__info-list":"Meal_meal__info-list__KPh_c","meal__ingredients-list":"Meal_meal__ingredients-list__brf16","meal__method-item":"Meal_meal__method-item__YffIm",meal__btn:"Meal_meal__btn__H3Dud","meal__btn--remove":"Meal_meal__btn--remove__M0zZG",meal__type:"Meal_meal__type__Al5pp"}}},function(e){e.O(0,[678,774,888,179],(function(){return t=4372,e(e.s=t);var t}));var t=e.O();_N_E=t}]);