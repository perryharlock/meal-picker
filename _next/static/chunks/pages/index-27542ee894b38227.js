(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7348)}])},7348:function(e,a,n){"use strict";n.r(a),n.d(a,{__N_SSG:function(){return w},default:function(){return C}});var l=n(5893),i=n(7294),r=n(46),_=function(e,a){var n=(0,i.useState)(!1),l=n[0],r=n[1],_=(0,i.useCallback)((function(e){e.matches?r(!0):r(!1)}),[]);return(0,i.useEffect)((function(){var n=window.matchMedia("(".concat(a||"max","-width: ").concat(e,"px)"));return n.addListener(_),n.matches&&r(!0),function(){return n.removeListener(_)}}),[_,e,a]),l},s=n(4504),t=n(6249),c=n(3381),o=n(9921),m=n.n(o),d=function(e){var a=e.name,n=e.label,i=e.checked,r=e.id,_=e.value,s=e.onChange;return(0,l.jsxs)("div",{className:m().radio__wrapper,children:[(0,l.jsx)("input",{name:a,id:r,value:_,"data-testid":"radio-".concat(r),defaultChecked:i,type:"radio",className:m().radio,onChange:s}),(0,l.jsx)("span",{className:m().radio__label,children:(0,l.jsx)("label",{htmlFor:r,children:n})})]})},h=function(e){var a=e.className,n=e.label,i=e.labelHidden,r=e.children;return(0,l.jsxs)("div",{className:a||"",children:[i?(0,l.jsx)(c.o,{children:(0,l.jsx)("p",{children:n})}):(0,l.jsx)("p",{children:n}),(0,l.jsx)("div",{className:m().radio__layout,children:r})]})},u=n(2066),p=n.n(u),f=function(e){var a=e.searchTerm,n=e.searchType,i=e.onChangeValue;return(0,l.jsxs)("form",{className:p().search__form,children:[(0,l.jsxs)("div",{className:p()["search__input-container"],children:[(0,l.jsx)("div",{className:p().search__icon,children:(0,l.jsx)(t.ol,{})}),(0,l.jsx)(c.o,{children:(0,l.jsx)("label",{htmlFor:"search-input",children:"Enter a search term"})}),(0,l.jsx)("input",{id:"search-input",className:p().search__input,onChange:function(e){return i(e.target.value,n)},placeholder:"Type a meal name",value:a,"data-testid":"search-input"}),a&&(0,l.jsxs)("button",{type:"button",className:p().search__clear,onClick:function(){return i("",n)},children:[(0,l.jsx)(t.x8,{}),(0,l.jsx)(c.o,{children:"Reset shopping list"})]})]}),(0,l.jsxs)(h,{label:"Filters",labelHidden:!0,children:[(0,l.jsx)(d,{name:"mealType",label:"All",id:"all",value:"all",checked:""===n,onChange:function(){return i(a,"")}}),(0,l.jsx)(d,{name:"mealType",label:"Meals",id:"meal",value:"meal",checked:"meal"===n,onChange:function(){return i(a,"meal")}}),(0,l.jsx)(d,{name:"mealType",label:"Baking",id:"baking",value:"baking",checked:"baking"===n,onChange:function(){return i(a,"baking")}}),(0,l.jsx)(d,{name:"mealType",label:"Drink",id:"drink",value:"drink",checked:"drink"===n,onChange:function(){return i(a,"drink")}})]})]})},x=n(1664),j=n(2260),g=n.n(j),v=function(e){var a=e.meal,n=e.handleAdd,i=e.handleRemove,r=e.isInShoppingList,_=e.lazyLoad;return(0,l.jsxs)("li",{className:g().meal,children:[(0,l.jsx)(x.default,{href:"/meal-picker".concat(a.url),children:(0,l.jsxs)("a",{className:g().meal__link,title:a.name,children:[(0,l.jsxs)("div",{className:g()["meal__img-container"],children:[(0,l.jsx)("img",{loading:_?"lazy":"eager",className:g().meal__img,src:a.img?a.img:"meal-placeholder.webp",alt:a.name,width:"375",height:"250"}),(0,l.jsx)("span",{className:g().meal__type,children:a.type})]}),(0,l.jsxs)("div",{className:g().meal__lower,children:[(0,l.jsx)("h2",{className:g().meal__title,children:a.name}),(0,l.jsxs)("ul",{className:g()["meal__info-list"],children:[(0,l.jsxs)("li",{className:g().meal__info,children:[a.time," minutes"]}),a.serves&&(0,l.jsxs)("li",{className:g().meal__info,children:["Serves ",a.serves]})]})]})]})}),(0,l.jsx)("button",{"data-testid":r?"remove-from-shopping-list":"add-to-shopping-list",className:"".concat(g().meal__btn," ").concat(r?g()["meal__btn--remove"]:""),onClick:function(){return r?i(a):n(a)},children:r?"- Remove from shopping list":"+ Add to shopping list"})]},"meal-".concat(a.url))},b=n(253),N=n(293),k=n.n(N),y=function(e){var a=e.mealData,n=(0,i.useContext)(s.V),r=n.isInShoppingList,t=n.removeFromShoppingList,c=n.addToShoppingList,o=(0,i.useState)(a),m=o[0],d=o[1],h=(0,i.useState)(""),u=h[0],p=h[1],x=(0,i.useState)(""),j=x[0],g=x[1],N=_(767),y=_(991)&&!N,w=_(992,"min");return(0,l.jsxs)(b.r,{children:[(0,l.jsx)(f,{searchTerm:u,onChangeValue:function(e,n){d(a.filter((function(a){return-1!==a.type.toLowerCase().indexOf(n.toLowerCase())&&-1!==a.name.toLowerCase().indexOf(e.toLowerCase())}))),p(e),g(n)},searchType:j}),m.length?(0,l.jsx)("ul",{className:k().meals__list,children:m.map((function(e,a){return(0,l.jsx)(v,{meal:e,isInShoppingList:r(e.url),handleRemove:t,handleAdd:c,lazyLoad:a>(w?8:y?7:2)},e.url)}))}):(0,l.jsx)("p",{children:"No matches for your search :-/"})]})},w=!0,C=function(e){var a=e.mealData;return(0,l.jsx)(r.A,{children:(0,l.jsx)(y,{mealData:a})})}},2260:function(e){e.exports={meal:"Meal_meal__CdKcb",meal__img:"Meal_meal__img__e5nz4","meal__img-container":"Meal_meal__img-container__C__eF",meal__title:"Meal_meal__title__P2Fy3",meal__info:"Meal_meal__info__IAiBr","meal__info-list":"Meal_meal__info-list__OS_ED",meal__lower:"Meal_meal__lower__cVM9b",meal__link:"Meal_meal__link__kh7rK",meal__btn:"Meal_meal__btn__XWWFP","meal__btn--remove":"Meal_meal__btn--remove__iXY_B",meal__type:"Meal_meal__type__zX2HV"}},293:function(e){e.exports={meals__list:"Meals_meals__list__zcUF5"}},9921:function(e){e.exports={radio:"Radio_radio__8nTM8",radio__label:"Radio_radio__label__Ln_Tr",radio__layout:"Radio_radio__layout__sI_py",radio__wrapper:"Radio_radio__wrapper__3mYcB"}},2066:function(e){e.exports={search__form:"Search_search__form__wx0Uj",search__input:"Search_search__input__ytYur","search__input-container":"Search_search__input-container__wL3f4",search__icon:"Search_search__icon__3M9XM",search__clear:"Search_search__clear___BLIh"}}},function(e){e.O(0,[46,774,888,179],(function(){return a=5301,e(e.s=a);var a}));var a=e.O();_N_E=a}]);